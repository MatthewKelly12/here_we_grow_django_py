{%  extends 'temp_test/index.html' %}
{% load staticfiles %}

{% block content %}
<div>
	{% include 'temp_test/nav.html' with nav_location=view.location %}
	<h1>{{user.username}} </h1>




		<div id="avgData">
			<h1>Grow:Hello hello hello </h1>

			<h2>Inside Temperature: {{avg_in_temp.inside_temperature__avg}}</h2>
			<h2>Inside Humdity: {{avg_in_humidity.inside_humidity__avg}}</h2>
			<h2>Outside Temperature: {{avg_out_temp.outside_temperature__avg}}</h2>
			<h2>Outside Humdity: {{avg_out_humidity.outside_humidity__avg}}</h2>
			<h2>Water Temperature: {{avg_water_temp.water_temperature__avg}}</h2>
			<h2>Water pH: {{avg_water_pH.water_pH__avg}}</h2>
		</div>




		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>


		<div>
			<canvas id="chartAvgHistory"></canvas>
		</div>

		 <script type="text/javascript">






			let canvasAvg = document.getElementById('chartAvgHistory')
			canvasAvg.getContext('2d')
			canvasAvg.width = 500;
			canvasAvg.height = 500;


			Chart.defaults.global.defaultFontFamily = 'Lato';
			Chart.defaults.global.defaultFontSize = 13;
			Chart.defaults.global.defaultFontColor = 'Green';


let chartAvg = new Chart(canvasAvg,{
	type: 'bar',
	// height: 200,
	// width: 200,
	data: {
		labels:	["Inside Temperature", "Outside Temperature", "Inside Humidity", "Outside Humidity", "Water PH", "Water Temperature"],
		datasets:[{
			label: 'Average Stats',
			 data:[
				 "{{avg_in_temp.inside_temperature__avg}}",
				 "{{avg_out_temp.outside_temperature__avg}}",
				 "{{avg_in_humidity.inside_humidity__avg}}",
				 "{{avg_out_humidity.outside_humidity__avg}}",
				 "{{avg_water_pH.water_pH__avg}}",
				 "{{avg_water_temp.water_temperature__avg}}"
			 ],
			backgroundColor: ['pink','blue', 'yellow', 'orange','purple','blue'],
			borderWidth: 5,
			borderColor: "yellow",
			hoverBorderWidth: 10,
			hoverBorderColor: 'black',
		}
		],
	},
	options: {
		title: {
			display: true,
			text: 'MYPI Grow',
			fontSize: 30
		},
		legend: {
			// display: false,
			position: 'top',
			labels: {
				fontColor: "Blue"
			}
		},
		layout: {
			padding: {
				left: 50,
				right: 0,
				bottom: 0,
				top: 0
			}
		},
		tooltips: {
			enabled: true
		},
		responsive: false,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}]
		}
	}
})






			// let img = document.createElement('img')
			// let text = "{{dataset.image}}"
			// img.src = `/static/temp_test/images/${text}.jpeg`
			// img.width = 300;
			// img.height = 300;
			// document.getElementById('imgDiv').appendChild(img)
			// imageDiv.appendChild("TEST")
		</script>


</div>
{% endblock content %}